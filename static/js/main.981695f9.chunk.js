(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,a,t){e.exports=t(73)},38:function(e,a,t){},39:function(e,a,t){},69:function(e,a,t){},73:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(7),c=t.n(l),o=(t(38),t(39),t(24)),i=t(25),s=t(31),d=t(26),u=t(9),m=t(30),p=t(11),g=t.n(p),v=t(4),f=t(27),h=t.n(f),_=(t(68),t(69),["normal","water","electric","fire","psychic","dark","grass","ice","fairy"]),b=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={link:"",result_urls:[],post_title:"",loading:!1,can_clear:!1},t.downloadImage=function(){var e=Object(u.a)(t),a=t.state.link;a?(e.setState({loading:!0}),g.a.get(a).then(function(a){var t=a.data;if(t){var n=t.match(/<script type="text\/javascript">window\._sharedData = (.*)<\/script>/)[1].slice(0,-1),r=JSON.parse(n);if(null!==r){var l=r.entry_data.PostPage[0].graphql.shortcode_media,c=l.edge_sidecar_to_children,o=l.display_resources,i=l.edge_media_to_caption,s=l.is_video,d=l.video_url,u=l.owner.full_name,m=[];if(s)m.push({thumbnail:o.pop().src,src:d});else if(c)m=c.edges.map(function(e){var a=e.node,t=a.display_resources,n=a.is_video,r=a.video_url,l=t.pop().src;return n?{thumbnail:l,src:r}:{thumbnail:l,src:l}});else{var p=o.pop().src;m.push({thumbnail:p,src:p})}var g="".concat(u," on Instagram: ").concat(i.edges[0].node.text||"");g.length>100&&(g=g.slice(0,100)),v.b.success("Yayyy, Get image successfully!"),e.setState({result_urls:m,post_title:g,loading:!1})}else e.setState({loading:!1}),v.b.error("Failed!")}else v.b.error("Failed!"),e.setState({loading:!1})}).catch(function(a){e.setState({loading:!1}),v.b.error("Failed!"),console.log(a)})):v.b.warning("Invalid post url!",{autoClose:1e3})},t.saveFileFromUrl=function(e,a){var t=(a.replace(/[^\w\s]/gi,"")||Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).replace(/\s+/g,"_").toLocaleLowerCase()+(e.indexOf(".mp4")>0?".mp4":".jpg");try{g()({url:e,method:"GET",responseType:"blob"}).then(function(e){var a=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=a,n.setAttribute("download",t),document.body.appendChild(n),n.click()})}catch(n){window.open(e,"_blank")}},t.onUrlInputChange=function(e){var a=e.target.value;t.setState({link:a,can_clear:""!==a})},t.clearUrlInput=function(){t.setState({link:"",can_clear:!1})},t}return Object(m.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.link,n=a.result_urls,l=a.post_title,c=a.loading,o=a.can_clear;return r.a.createElement("div",null,r.a.createElement("div",{className:"downloader-container"},r.a.createElement("div",{className:"intro"},r.a.createElement("div",{className:"app-name"},"Instagram downloader"),r.a.createElement("div",{className:"author"},"By: Quang Son Nguyen")),r.a.createElement("div",{className:"link-panel"},r.a.createElement("div",{className:"link-input"},r.a.createElement("label",{className:"field a-field a-field_a3 page__field"},r.a.createElement("input",{className:"field__input a-field__input",placeholder:"...",onChange:function(a){return e.onUrlInputChange(a)},value:t}),o&&r.a.createElement("button",{className:"btt-clear",onClick:function(){return e.clearUrlInput()}},"Clear"),r.a.createElement("span",{className:"a-field__label-wrap"},r.a.createElement("span",{className:"a-field__label"},"Link to instagram post")))),r.a.createElement("div",{className:"download-buttons"},!c&&r.a.createElement("button",{className:"btt",onClick:function(){return e.downloadImage()}},"Load Image"),c&&r.a.createElement("div",{style:{marginLeft:"-24px",marginBottom:"24px"}},r.a.createElement(h.a,{sizeUnit:"px",size:24,color:"#fa8072",loading:c})))),r.a.createElement(v.a,{autoClose:2e3,position:"top-center",hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!1,draggable:!0,pauseOnHover:!1}),n&&n.map(function(a){return r.a.createElement("div",{className:"card card--".concat(_[Math.floor(9*Math.random())]),style:{maxWidth:"480px"},key:n.indexOf(a)},r.a.createElement("div",{className:"card__image-container",style:{backgroundImage:"url(".concat(a.thumbnail,")")}}),r.a.createElement("div",{className:"card__caption"},r.a.createElement("div",null,l),r.a.createElement("div",{className:"card__type"},r.a.createElement("div",{onClick:function(){return e.saveFileFromUrl(a.src,l)},className:"cir-btn disable-select"},"Download"))))})))}}]),a}(n.Component);var w=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.981695f9.chunk.js.map